(this["webpackJsonpfugr-ru-test"]=this["webpackJsonpfugr-ru-test"]||[]).push([[0],{18:function(e,t,s){},19:function(e,t,s){},22:function(e,t,s){"use strict";s.r(t);var r=s(2),a=s.n(r),n=s(11),c=s.n(n),i=(s(18),s(19),s(8)),o=s(1),u=s.n(o),l=s(7),d=s(3),h=s(4),j=s(6),p=s(5),b=s.p+"static/media/spinner.941af6e2.svg",f=s(0),m=function(e){Object(j.a)(s,e);var t=Object(p.a)(s);function s(){return Object(d.a)(this,s),t.apply(this,arguments)}return Object(h.a)(s,[{key:"render",value:function(){return Object(f.jsx)("div",{className:"loader-container",children:Object(f.jsx)("img",{src:b,alt:"\u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435, \u0434\u0430\u043d\u043d\u044b\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u044e\u0442\u0441\u044f",className:"loader-img"})})}}]),s}(a.a.Component),x=function(e){Object(j.a)(s,e);var t=Object(p.a)(s);function s(){var e;Object(d.a)(this,s);for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return(e=t.call.apply(t,[this].concat(a))).handleClick=function(){var t=Object(l.a)(u.a.mark((function t(s){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Number(s.target.getAttribute("value")),t.next=3,e.props.onSelectPage(r);case 3:s.preventDefault(),s.stopPropagation();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(h.a)(s,[{key:"render",value:function(){for(var e=this,t=[],s=1;t.length<this.props.pages;)t.push(s++);var r=this.props.page,a=t.map((function(t){return Object(f.jsx)("a",{value:t,className:"page-href ".concat(r===t?" active":""),href:t,onClick:e.handleClick,children:t},t)}));return Object(f.jsx)("div",{children:a})}}]),s}(a.a.Component),v=function(e){Object(j.a)(s,e);var t=Object(p.a)(s);function s(){return Object(d.a)(this,s),t.apply(this,arguments)}return Object(h.a)(s,[{key:"render",value:function(){var e=this.props.user;return this.props.user?Object(f.jsx)("div",{className:"user-info",onClick:function(e){return e.stopPropagation()},children:Object(f.jsxs)("div",{children:[Object(f.jsxs)("p",{children:["\u0412\u044b\u0431\u0440\u0430\u043d \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c ",Object(f.jsxs)("b",{children:[e.firstName," ",e.lastName]})]}),Object(f.jsxs)("p",{children:["\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:",Object(f.jsx)("textarea",{defaultValue:e.description})]}),Object(f.jsxs)("p",{children:["\u0410\u0434\u0440\u0435\u0441 \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u044f: ",Object(f.jsx)("b",{children:e.streetAddress})]}),Object(f.jsxs)("p",{children:["\u0413\u043e\u0440\u043e\u0434: ",Object(f.jsx)("b",{children:e.city})]}),Object(f.jsxs)("p",{children:["\u041f\u0440\u043e\u0432\u0438\u043d\u0446\u0438\u044f/\u0448\u0442\u0430\u0442: ",Object(f.jsx)("b",{children:e.state})]}),Object(f.jsxs)("p",{children:["\u0418\u043d\u0434\u0435\u043a\u0441: ",Object(f.jsx)("b",{children:e.zip})]}),Object(f.jsx)("button",{className:"close-button",onClick:this.props.onClose,children:"X"})]})}):""}}]),s}(a.a.Component),O=s(12),g=s(9),N=s(13),y=s.n(N),w=function(e){Object(j.a)(s,e);var t=Object(p.a)(s);function s(e){var r;return Object(d.a)(this,s),(r=t.call(this,e)).openForm=function(){r.setState({isActive:!0})},r.closeForm=function(e){r.setState({isActive:!1})},r.submitForm=function(e){if(e.preventDefault(),r.validator.allValid()){var t={id:Number(r.state.id),email:r.state.email,firstName:r.state.firstName,lastName:r.state.lastName,phone:r.state.phone};r.props.onAddUser(t),r.closeForm()}else r.validator.showMessages()},r.state={isActive:!1},r.validator=new y.a({autoForceUpdate:Object(g.a)(r),validators:{name:{message:"The :attribute must contains min. 4 letters",rule:function(e,t,s){return s.helpers.testRegex(e,/^[a-zA-Z\u0410-\u042f\u0401\u0430-\u044f\u0451]+$/i)&&-1===t.indexOf(e)&&e.length>3},required:!0}}}),r.handleChange=r.handleChange.bind(Object(g.a)(r)),r}return Object(h.a)(s,[{key:"handleChange",value:function(e){var t=e.currentTarget.value,s=e.currentTarget.getAttribute("id");this.setState(Object(O.a)({},s,t)),console.log(this.state)}},{key:"render",value:function(){var e=this,t=Object(f.jsx)("button",{className:"add-user",onClick:this.openForm,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),s=Object(f.jsx)("div",{className:"overlay",onClick:this.closeForm,children:Object(f.jsxs)("div",{className:"modal",onClick:function(e){return e.stopPropagation()},children:[Object(f.jsxs)("h3",{children:["\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",Object(f.jsx)("button",{className:"close-button",onClick:this.closeForm,children:"\u0437\u0430\u043a\u0440\u044b\u0442\u044c"})]}),Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{children:"ID"}),Object(f.jsx)("input",{className:"form-control",defaultValue:this.state.id,id:"id",onChange:this.handleChange,onBlur:function(){return e.validator.showMessageFor("id")}}),Object(f.jsx)("span",{className:"input-invalid",children:this.validator.message("id",this.state.id,"required|numeric|min:0,num")})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{children:"firstName"}),Object(f.jsx)("input",{className:"form-control",defaultValue:this.state.firstName,id:"firstName",onChange:this.handleChange,onBlur:function(){return e.validator.showMessageFor("name")}}),Object(f.jsx)("span",{className:"input-invalid",children:this.validator.message("name",this.state.firstName,"required|name")})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{children:"lastName"}),Object(f.jsx)("input",{className:"form-control",defaultValue:this.state.lastName,id:"lastName",onChange:this.handleChange,onBlur:function(){return e.validator.showMessageFor("last name")}}),Object(f.jsx)("span",{className:"input-invalid",children:this.validator.message("last name",this.state.lastName,"required|name")})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{children:"email"}),Object(f.jsx)("input",{className:"form-control",defaultValue:this.state.email,id:"email",onChange:this.handleChange,onBlur:function(){return e.validator.showMessageFor("email")}}),Object(f.jsx)("span",{className:"input-invalid",children:this.validator.message("email",this.state.email,"required|email")})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{children:"phone"}),Object(f.jsx)("input",{className:"form-control",defaultValue:this.state.phone,id:"phone",onChange:this.handleChange,onBlur:function(){return e.validator.showMessageFor("phone")}}),Object(f.jsx)("span",{className:"input-invalid",children:this.validator.message("phone",this.state.phone,"required|phone")})]}),Object(f.jsx)("button",{className:"btn btn-primary",onClick:this.submitForm,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0443"})]})]})});return this.state.isActive?s:t}}]),s}(a.a.Component),C=function(e){Object(j.a)(s,e);var t=Object(p.a)(s);function s(e){var r;return Object(d.a)(this,s),(r=t.call(this,e)).selectUser=function(e){var t,s,a,n,c=e.currentTarget.getAttribute("value"),i=r.props.users.find((function(e){return r.props.users.indexOf(e)===Number(c)})),o="\u0434\u0430\u043d\u043d\u044b\u0435 \u043d\u0435 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u044b";r.setState({selectedUser:{firstName:i.firstName,lastName:i.lastName,description:i.description||o,streetAddress:(null===(t=i.address)||void 0===t?void 0:t.streetAddress)||o,city:(null===(s=i.address)||void 0===s?void 0:s.city)||o,state:(null===(a=i.address)||void 0===a?void 0:a.state)||o,zip:(null===(n=i.address)||void 0===n?void 0:n.zip)||o}})},r.clearSelectedUser=function(){r.setState({selectedUser:null})},r.search=function(e){e.preventDefault(),r.props.onSearch()},r.state={selectedUser:null},r}return Object(h.a)(s,[{key:"render",value:function(){var e=this,t=function(t){var s="th ";return e.props.sortedBy===t&&(s+="selected"),e.props.sortedBy==="".concat(t,"-reverse")&&(s+="selected reversed"),s},s=["id","firstName","lastName","email","phone"],r=this.props.users.map((function(t,r){return Object(f.jsx)("tr",{onClick:e.selectUser,value:r,children:s.map((function(e){return Object(f.jsx)("td",{children:t[e]},e)}))},r)})),a=Object(f.jsx)("tr",{children:s.map((function(s){return Object(f.jsxs)("th",{onClick:e.props.onSort,value:s,children:[s,Object(f.jsx)("span",{className:"".concat(t(s))})]},s)}))}),n=Object(f.jsxs)("form",{className:"search-bar",onSubmit:this.search,children:[Object(f.jsxs)("label",{children:["\u0424\u0438\u043b\u044c\u0442\u0440:",Object(f.jsx)("input",{type:"text",name:"search",onInput:this.props.onFilter,value:String(this.props.searchQuery)})]}),Object(f.jsx)("input",{type:"submit",value:"\u043f\u043e\u0438\u0441\u043a"})]}),c=this.props.users[0]?Object(f.jsxs)("div",{children:[Object(f.jsxs)("table",{className:"table",children:[Object(f.jsx)("thead",{children:a}),Object(f.jsx)("tbody",{children:r})]}),Object(f.jsx)(v,{user:this.state.selectedUser,onClose:this.clearSelectedUser})]}):Object(f.jsx)("h4",{children:"\u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439"});return Object(f.jsxs)("div",{className:"table-container",children:[Object(f.jsxs)("div",{className:"serch-bar-container",children:[n,Object(f.jsx)(w,{onAddUser:this.props.onAddUser})]}),c]})}}]),s}(a.a.Component),k=function(e){Object(j.a)(s,e);var t=Object(p.a)(s);function s(e){var r;return Object(d.a)(this,s),(r=t.call(this,e)).getData=function(){var e=Object(l.a)(u.a.mark((function e(t){var s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://www.filltext.com/?rows=".concat(t,"&id={number|1000}&firstName={firstName}&lastName={lastName}&email={email}&phone={phone|(xxx)xxx-xx-xx}&address={addressObject}&description={lorem|32}")).then((function(e){return e.json()}));case 2:return s=e.sent,e.abrupt("return",s);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.selectPage=function(){var e=Object(l.a)(u.a.mark((function e(t){var s,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=Math.ceil(r.state.users.length/50),a=t<=s?t:s,e.next=4,r.setState({page:a,pages:s});case 4:return e.next=6,r.findUsersOnCurrentPage(Object(i.a)(r.state.users));case 6:return n=e.sent,e.next=9,r.setState({usersToShow:n});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.selectRows=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState({rows:t.target.value,isLoaded:!1}),e.prev=1,e.next=4,r.getData(t.target.value).then((function(e){r.setState({data:e,users:e,isLoaded:!0})}));case 4:return e.next=6,r.selectPage(1);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),r.addUser=function(){var e=Object(l.a)(u.a.mark((function e(t){var s,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=[t].concat(Object(i.a)(r.state.data)),a=[t].concat(Object(i.a)(r.state.users)),e.next=4,r.setState({data:s,users:a});case 4:return e.next=6,r.selectPage(1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.findUsersOnCurrentPage=function(e){var t=50*r.state.page;return Object(i.a)(e.slice(t-50,t))},r.search=function(){var e=Object(l.a)(u.a.mark((function e(t,s){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s&&""!==s){e.next=2;break}return e.abrupt("return",t);case 2:return e.next=4,t.filter((function(e){return Object.values(e).find((function(e){return-1!==String(e).indexOf(s)}))}));case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}(),r.sortUsers=function(){var e=Object(l.a)(u.a.mark((function e(t){var s,a,n,c,o,l,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.currentTarget.getAttribute("value"),a=r.state.sortedBy===s?"".concat(s,"-reverse"):s,n=a===s?1:-1,c=function(e,t){return e[s]>t[s]?n:-n},e.next=6,Object(i.a)(r.state.data).sort(c);case 6:return o=e.sent,e.next=9,r.setState({sortedBy:a});case 9:if(""!==r.state.searchQuery&&null!==r.state.searchQuery){e.next=23;break}return e.t0=r,e.next=13,o;case 13:return e.t1=e.sent,e.t2=o,e.next=17,r.findUsersOnCurrentPage(o);case 17:return e.t3=e.sent,e.t4={data:e.t1,users:e.t2,usersToShow:e.t3},e.next=21,e.t0.setState.call(e.t0,e.t4);case 21:e.next=37;break;case 23:return e.next=25,r.search(o,r.state.searchQuery);case 25:return l=e.sent,e.next=28,r.findUsersOnCurrentPage(l);case 28:return d=e.sent,e.t5=r,e.next=32,d;case 32:return e.t6=e.sent,e.t7=l,e.t8={usersToShow:e.t6,users:e.t7},e.next=37,e.t5.setState.call(e.t5,e.t8);case 37:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.filterUsers=function(){var e=Object(l.a)(u.a.mark((function e(t){var s,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.currentTarget.value;case 2:return s=e.sent,e.next=5,r.setState({searchQuery:s});case 5:return e.next=7,r.findUsersOnCurrentPage(Object(i.a)(r.state.data));case 7:return a=e.sent,e.next=10,r.search(a,r.state.searchQuery);case 10:return n=e.sent,e.next=13,r.setState({usersToShow:n});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.searchUsers=Object(l.a)(u.a.mark((function e(){var t,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.state.searchQuery,e.next=3,r.search(Object(i.a)(r.state.data),t);case 3:return s=e.sent,e.next=6,r.setState({users:s});case 6:return e.next=8,r.selectPage(1);case 8:case"end":return e.stop()}}),e)}))),r.state={isLoaded:!0,page:1,pages:[],users:[],user:null,rows:null,data:null,usersToShow:[],searchQuery:"",sortedBy:null},r}return Object(h.a)(s,[{key:"render",value:function(){if(!this.state.isLoaded)return Object(f.jsx)(m,{});var e=this.state.rows?Object(f.jsxs)("div",{children:[Object(f.jsx)(x,{page:this.state.page,pages:this.state.pages,onSelectPage:this.selectPage}),Object(f.jsx)(C,{isLoaded:this.state.isLoaded,sortedBy:this.state.sortedBy,users:this.state.usersToShow,searchQuery:this.state.searchQuery,onAddUser:this.addUser,onFilter:this.filterUsers,onSearch:this.searchUsers,onSort:this.sortUsers})]}):Object(f.jsx)("h1",{children:"\u0412\u044b\u0431\u0438\u0440\u0430\u0439\u0442\u0435 \u043a\u043d\u043e\u043f\u043e\u0447\u043a\u0443..."});return Object(f.jsxs)("div",{children:[Object(f.jsx)("button",{onClick:this.selectRows,value:"32",children:"\u041f\u043e\u043c\u0435\u043d\u044c\u0448\u0435..."}),Object(f.jsx)("button",{onClick:this.selectRows,value:"1000",children:"\u041f\u043e\u0431\u043e\u043b\u044c\u0448\u0435!"}),e]})}}]),s}(a.a.Component);var S=function(){return Object(f.jsx)("div",{className:"App",children:Object(f.jsx)(k,{className:"main"})})},U=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,23)).then((function(t){var s=t.getCLS,r=t.getFID,a=t.getFCP,n=t.getLCP,c=t.getTTFB;s(e),r(e),a(e),n(e),c(e)}))};c.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(S,{})}),document.getElementById("root")),U()}},[[22,1,2]]]);
//# sourceMappingURL=main.eb8ba7fd.chunk.js.map